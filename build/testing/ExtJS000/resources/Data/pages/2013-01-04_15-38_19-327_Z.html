<pre class="runnable">var data = {
    name: 'The Simpsons',
    family: [ { name: 'Homer',     age: 38, gender: 'male'   },
              { name: 'Margareth', age: 36, gender: 'female' },
              { name: 'Bart',      age: 10, gender: 'male'   },
              { name: 'Lisa',      age:  8, gender: 'female' },
              { name: 'Maggie',    age:  1, gender: 'female' } ]
};
var tpl = new Ext.XTemplate(
    '&lt;h2>Family: {name}&lt;/h2>&lt;br>',
    '&lt;table class="table">',
    '&lt;tpl for="family">',
        '&lt;tr>',
            '&lt;tpl if="this.isFemale(gender)">',
                '&lt;td>{name} - (woman {age})&lt;/td>',
            '&lt;tpl else>',
                '&lt;td>{name} - (man {age})</td>',
            '&lt;/tpl>',
            '&lt;tpl if="this.isKid(age)">',
                '&lt;td colspan="2">{name} is under 18!</td>',
            '&lt;tpl else>',
                '&lt;td>&lt;/td>',
            '&lt;/tpl>',
        '&lt;/tr>',
    '&lt;/tpl>',
    '&lt;/table>',
    {
        isFemale: function(gender){
           return (gender === 'female');
        },
        isKid: function(age){
           return (age < 18);
        }
    }
);
tpl.overwrite(Ext.getBody(), data);</pre>