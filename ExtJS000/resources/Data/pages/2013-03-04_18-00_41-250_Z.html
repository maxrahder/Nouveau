<h1>Introduction</h1>
<p>In this lab, you will enhance the detail panel by adding an Edit
	button which displays the edit window.</p>

<h1>Objectives</h1>

<ul class="plain">
<li>Review requirements for a detail panel view</li>
<li>Convert a view component to a panel class</li>
<li>Add a top toolbar to a detail panel</li>
<li>Add a button to the top toolbar of a detail panel</li>
<li>Add a bottom toolbar to a detail panel</li>
<li>Add an image to the bottom toolbar of a detail panel</li>
<li>Define a view component class</li>
<li>Convert a view component to a window class</li>
<li>Define a window class that is automatically set to display in modal format</li>
<li>Add logic to a button event handler that opens a window</li>
</ul>

<h1>Steps</h1>

<ol>

	<li>Review the requirements for the detail panel with your
		instructor
		<p>The detail panel needs a toolbar with an Edit button. When the
			user clicks on the button, an edit window appears. Eventually, the
			edit window will have some form fields, but for now, we will just add
			the code to show and close the window.</p>
	</li>

	<li>Planning the detail component
		<p>The detail panel is just a component with an <code>html</code> property.
			We need to change it to be a panel, with a top toolbar (containing
			the edit button), a bottom toolbar (containing the "Powered by Yelp"
			image). The panel will have a single item within it &mdash; for now,
			it will be a placeholder component with an <code>html</code> property, but later it
			will hold the template that shows details about a business.</p>
	</li>

	<li>Make the detail component a panel
		<p>
			Open <kbd>YelpExtplorer/app/view/detail/Detail.js</kbd> and
			change the code so yepdetail extends <kbd>Ext.panel.Panel</kbd>.</br> 
                        Edit <kbd>Viewport.js</kbd> and add <code>title:'Detail'</code>
			to the east component's specification. Save and refresh your browser.
			Now that the east component is a panel, the title property is shown
			as the panel's header. 
		</p>
	</li>

	<li>Add the Edit button to the top of the detail panel
		<p>In <kbd>YelpExtplorer/app/view/detail/Detail.js</kbd> add a <code>tbar</code> array,
			with one item: <code>xtype:'button'</code> and whose text is <strong>"Edit"</strong>. In a minute,
			we will add code to display the edit window when the button is clicked.
		</p>
		<p>As always, as you work, you should frequently save and refresh
			your browser to make sure there isn't a typo or misplaced syntax in
			your code.</p>
	</li>
	<li>Add the Powered by Yelp image to the bottom of the detail
		panel
		<p>
			To do this, add a <code>bbar</code> array, with one item whose xtype is
			"component". Set the height to <strong>25</strong> and the width <strong>155</strong>. Set the
			component <code>html</code> property to the string
			<code>'&lt;a href="http://www.yelp.com"
				target="_blank"&gt;&lt;img
				src="resources/images/Powered_By_Yelp_Red.png"/&gt;&lt;/a&gt;'</code>
			. This is a hyperlink on top of a Yelp image, linked to the Yelp web
			site.
		</p>
		<p>Save and refresh your browser. You should still see the
			non-functional Edit button, and a Powered by Yelp image at the
			bottom. If you click on the image, you should see a new browser window
			open on the Yelp site.</p>
	</li>

	<li>Define the window component
		<p>Using Sencha Cmd, generate a new view named
			<strong>"detail.EditWindow"</strong>.</p>
		<p>Once you've created it, open <kbd>detail/EditWindow.js</kbd> in your
			editor and change it so it extends <code>Ext.window.Window</code>. 
<br>Assign it the xtype "yepeditwindow". 
<br>Set <code>title</code> to "Edit Business". 
<br>Set <code>autoShow</code> true. 
<br>Set <code>modal</code> to true.
<br>Set <code>html</code> property to "Yep Edit Window". </p>
		<p>When you are finished, EditWindow will have six properties:
			extend, xtype, title, autoShow, modal and html.</p>
	</li>

	<li>Show the window when Edit is clicked
		<p>
			Edit <kbd>detail/Detail.js</kbd> and put a handler on the edit button. The
			handler is a function whose first parameter is a reference to the
			button. The function should run
			<code>Ext.create('YelpExtplorer.view.detail.EditWindow');</code>
		</p>
		<p>Save your changes and refresh your browser. If you click on
			Edit, you should see a cramped little window with the string
			"Yep Edit Window" in it. Later this week, we will add form fields here.</p>
<p>Note that when you run, you may see a console warning stating that <code>YelpExtplorer.view.detail.EditWindow</code>
needed to be loaded synchronously. That's because you need to list the edit window class name in the <code>requires</code>
array in <code>YelpExtplorer.view.detail.Detail</code>. After adding that to the <code>requires</code> array, the console warning
will no longer appear.</p>
	</li>

</ol>

<h1>Conclusion</h1>
<p>You used Sencha Cmd to create an additional view class that you will be 
	using from within the detail panel. Later, we will add fields, and
	add a template to the panel to show the selected business.</p>
